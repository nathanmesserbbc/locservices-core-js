!function(a,b){return"function"==typeof define&&define.amd?define(b):("undefined"==typeof a.locservices&&(a.locservices={}),"undefined"==typeof a.locservices.core&&(a.locservices.core={}),a.locservices.core.PreferredLocation=b(),void 0)}(this,function(){"use strict";function a(a){this.api=a}var b="locserv",c="/";a.prototype.isValidLocation=function(a){var b,c;return"object"!=typeof a?!1:(b=a.placeType,c=a.country,"settlement"!==b&&"airport"!==b&&"district"!==b?!1:"GB"!==c&&"GG"!==c&&"IM"!==c&&"JE"!==c?!1:!0)},a.prototype.isSet=function(){return null!==this.getLocServCookie()},a.prototype.unset=function(){var a=this.getCookieDomain();return!1===a?!1:(this.setDocumentCookie(b+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; Path=/; domain="+a+";"),!0)},a.prototype.getHostname=function(){return window.location.hostname},a.prototype.getDocumentCookie=function(){return window.document.cookie},a.prototype.setDocumentCookie=function(a){window.document.cookie=a},a.prototype.getCookieDomain=function(){var a,b;return this.cookieDomain?this.cookieDomain:(b=this.getHostname(),"string"!=typeof b?!1:(a=b.match(/bbc\.co(\.uk|m)$/),a&&2===a.length?this.cookieDomain="."+a[0]:this.cookieDomain=!1,this.cookieDomain))},a.prototype.getLocServCookie=function(){var a,c;return a=this.getDocumentCookie(),c=a.match(new RegExp(b+"=(.*?)(;|$)")),!c||c.length<2?null:c[1]},a.prototype.get=function(){var a,b,c,l,m,n;if(m=function(a){var b,c,d,e,f={};for(c=a.substr(0,1),a=a.substr(3),d=a.split(":"),b=0;b<d.length;b++)e=d[b].split("="),e[1]=e[1].replace(/\+/g,"%20"),f[e[0]]=decodeURIComponent(e[1]);return{name:c,data:f}},b=this.getLocServCookie(),!b)return null;for(a={id:null,name:null,nation:null,news:null,weather:null},c=b.substr(2).split("@"),n=0;n<c.length;n++)l=m(c[n]),"l"===l.name?(a.id=l.data.i,a.name=l.data.n,l.data.c&&(a.container=l.data.c),l.data.y&&(a.country=l.data.y),l.data.p&&(a.placeType=l.data.p),l.data.h&&(a.nation=k[l.data.h])):"w"===l.name?a.weather={id:l.data.i,name:l.data.p}:"n"===l.name?a.news={id:l.data.r,path:h[l.data.r],tld:j[l.data.r],name:i[l.data.r]}:"d"===l.name&&(a.tvandradio={bbc_one:d(l.data[1]),bbc_two:e(l.data[2]),bbc_radio_one:f(l.data[3]),local_radio:g(l.data[4])});return a},a.prototype.set=function(a,d){var e,f=this;return d=d||{},void 0===this.api||"string"!=typeof a||""===a.replace(/^\s+|\s+$/g,"")?void("function"==typeof d.error&&d.error()):(this.cookieLocation=void 0,e=f.getCookieDomain(),!1===e&&"function"==typeof d.error&&d.error(),void this.api.getCookie(a,{success:function(a){var g,h;h=new Date(1e3*a.expires).toUTCString(),g=b+"="+a.cookie+"; ",g+="expires="+h+"; ",g+="domain="+e+"; ",g+="path="+c+";",f.setDocumentCookie(g),"function"==typeof d.success&&d.success(f.get())},error:function(a){"function"==typeof d.error&&d.error(a)}}))};var d=function(a){var b={c:"bbc_one_cambridge",ci:"bbc_one_channel_islands",e:"bbc_one_east",em:"bbc_one_east_midlands",l:"bbc_one_london",ne:"bbc_one_north_east",nw:"bbc_one_north_west",ni:"bbc_one_northern_ireland",o:"bbc_one_oxford",sc:"bbc_one_scotland",s:"bbc_one_south",se:"bbc_one_south_east",sw:"bbc_one_south_west",wa:"bbc_one_wales",w:"bbc_one_west",wm:"bbc_one_west_midlands",ey:"bbc_one_east_yorkshire",y:"bbc_one_yorks"};return b[a]},e=function(a){var b={e:"bbc_two_england",n:"bbc_two_northern_ireland_digital",s:"bbc_two_scotland",w:"bbc_two_wales_digital"};return b[a]},f=function(a){var b={e:"bbc_radio_one",n:"bbc_radio_one_northern_ireland",s:"bbc_radio_one_scotland",w:"bbc_radio_one_wales"};return b[a]},g=function(a){var b={2:"bbc_london",3:"bbc_radio_berkshire",4:"bbc_radio_bristol",5:"bbc_radio_cambridge",6:"bbc_radio_cornwall",7:"bbc_radio_coventry_warwickshire",8:"bbc_radio_cumbria",9:"bbc_radio_cymru",10:"bbc_radio_derby",11:"bbc_radio_devon",12:"bbc_radio_essex",13:"bbc_radio_foyle",14:"bbc_radio_gloucestershire",15:"bbc_radio_guernsey",16:"bbc_radio_hereford_worcester",17:"bbc_radio_humberside",18:"bbc_radio_jersey",19:"bbc_radio_kent",20:"bbc_radio_lancashire",21:"bbc_radio_leeds",22:"bbc_radio_leicester",23:"bbc_radio_lincolnshire",24:"bbc_radio_manchester",25:"bbc_radio_merseyside",26:"bbc_radio_nan_gaidheal",27:"bbc_radio_newcastle",28:"bbc_radio_norfolk",29:"bbc_radio_northampton",30:"bbc_radio_nottingham",31:"bbc_radio_orkney",32:"bbc_radio_oxford",33:"bbc_radio_scotland",34:"bbc_radio_sheffield",35:"bbc_radio_shetland",36:"bbc_radio_shropshire",37:"bbc_radio_solent",38:"bbc_radio_somerset_sound",39:"bbc_radio_stoke",40:"bbc_radio_suffolk",41:"bbc_radio_surrey",42:"bbc_radio_sussex",43:"bbc_radio_ulster",44:"bbc_radio_wales_fm",45:"bbc_radio_wiltshire",46:"bbc_radio_york",47:"bbc_tees",48:"bbc_three_counties_radio",49:"bbc_wm"};if("string"==typeof a){for(var c=a.split("."),d=[],e=0;e<c.length;e++)d.push(b[c[e]]);return d}},h={3:"england/berkshire",4:"england/birmingham_and_black_country",7:"england/bristol",8:"england/cambridgeshire",11:"england/cornwall",12:"england/coventry_and_warwickshire",13:"england/cumbria",16:"england/derbyshire",17:"england/devon",18:"england/dorset",19:"scotland/edinburgh_east_and_fife",20:"england/essex",22:"scotland/glasgow_and_west",23:"england/gloucestershire",26:"world/europe/guernsey",27:"england/hampshire",28:"england/hereford_and_worcester",30:"scotland/highlands_and_islands",31:"england/humberside",32:"world/europe/isle_of_man",33:"world/europe/jersey",34:"england/kent",35:"england/lancashire",36:"england/leeds_and_west_yorkshire",37:"england/leicester",38:"england/lincolnshire",39:"england/merseyside",40:"england/london",41:"england/manchester",42:"wales/mid_wales",43:"england/norfolk",44:"england/northamptonshire",45:"scotland/north_east_orkney_and_shetland",46:"wales/north_east_wales",21:"northern_ireland",47:"wales/north_west_wales",49:"england/nottingham",50:"england/oxford",57:"england/south_yorkshire",51:"england/shropshire",52:"england/somerset",53:"wales/south_east_wales",55:"scotland/south_scotland",56:"wales/south_west_wales",58:"england/stoke_and_staffordshire",59:"england/suffolk",66:"england/surrey",60:"england/sussex",61:"scotland/tayside_and_central",62:"england/tees",1:"england/beds_bucks_and_herts",63:"england/tyne_and_wear",65:"england/wiltshire",48:"england/york_and_north_yorkshire"},i={56:"South West Wales",28:"Hereford &amp; Worcester",36:"Leeds and Bradford",60:"Sussex",61:"Tayside &amp; Central Scotland",62:"Tees",63:"Tyne and Wear",35:"Lancashire",66:"Surrey",34:"Kent",26:"Guernsey",27:"Hampshire",20:"Essex",21:"Northern Ireland",48:"York &amp; North Yorkshire",49:"Nottinghamshire",46:"North East Wales",47:"North West Wales",44:"Northampton",45:"North East Scotland Orkney &amp; Shetland",42:"Mid Wales",43:"Norfolk",40:"London",41:"Manchester",1:"Beds Herts &amp; Bucks",3:"Berkshire",4:"Birmingham and Black Country",7:"Bristol",8:"Cambridgeshire",13:"Cumbria",12:"Coventry &amp; Warwickshire",30:"Highlands &amp; Islands",58:"Stoke &amp; Staffordshire",11:"Cornwall",39:"Liverpool",38:"Lincolnshire",59:"Suffolk",22:"Glasgow &amp; West of Scotland",17:"Devon",16:"Derby",19:"Edinburgh Fife &amp; East of Scotland",18:"Dorset",31:"Humberside",23:"Gloucestershire",51:"Shropshire",50:"Oxford",53:"South East Wales",52:"Somerset",33:"Jersey",55:"South Scotland",37:"Leicestershire",32:"Isle of Man",57:"Sheffield &amp; South Yorkshire",65:"Wiltshire"},j={56:"southwestwales",42:"midwales",50:"oxford",60:"sussex",61:"taysideandcentralscotland",62:"tees",63:"tyne",49:"nottingham",66:"surrey",52:"somerset",53:"southeastwales",26:"guernsey",27:"hampshire",20:"essex",21:"northernireland",22:"glasgowandwestscotland",23:"gloucestershire",46:"northeastwales",47:"northwestwales",44:"northampton",45:"northeastscotlandnorthernisles",28:"herefordandworcester",43:"norfolk",40:"london",41:"manchester",1:"threecounties",3:"berkshire",4:"birmingham",7:"bristol",8:"cambridgeshire",39:"liverpool",38:"lincolnshire",58:"stoke",11:"cornwall",51:"shropshire",13:"cumbria",12:"coventry",59:"suffolk",48:"york",17:"devon",16:"derby",19:"edinburghandeastscotland",18:"dorset",31:"humberside",30:"highlandsandislands",37:"leicester",36:"leeds",35:"lancashire",34:"kent",33:"jersey",55:"southscotland",32:"isleofman",57:"sheffield",65:"wiltshire"},k={e:"england",n:"northernireland",s:"scotland",w:"wales"};return a});
//# sourceMappingURL=preferred_location.min.map